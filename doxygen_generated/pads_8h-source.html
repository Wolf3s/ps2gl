<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>pads.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.11 -->
<center>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>pads.h</h1><a href="pads_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/*        Copyright (C) 2000,2001,2002  Sony Computer Entertainment America</font>
00002           
00003           This file is subject to the terms and conditions of the GNU Lesser
00004           General Public License Version 2.1. See the file "COPYING" in the
00005           main directory of this archive for more details.                             */
00006 
00007 <font class="preprocessor">#ifndef pads_h</font>
00008 <font class="preprocessor">#define pads_h</font>
00009 
00010 <font class="preprocessor">#include "eetypes.h"</font> <font class="comment">// needed for libpad.h</font>
00011 <font class="preprocessor">#include "libpad.h"</font>
00012 
00013 <font class="preprocessor">#include "ps2s/types.h"</font>
00014 
00015 <font class="comment">/********************************************</font>
00016  * types
00017  */
00018 
00019 
00020 <font class="comment">/********************************************</font>
00021  * class def
00022  */
00023 
<a name="l00024"></a><a class="code" href="namespacePads.html">00024</a> <font class="keyword">namespace </font>Pads
00025 {
00026       <font class="keywordtype">void</font> <a class="code" href="namespacePads.html#a16">Init</a>( <font class="keyword">const</font> <font class="keywordtype">char</font>* module_path );
00027       <font class="keywordtype">void</font> <a class="code" href="namespacePads.html#a17">Read</a>( <font class="keywordtype">void</font> );
00028 
00029       <font class="keyword">static</font> <font class="keyword">const</font> <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> kSelect = 0,
00030          kLeftStickButton = 1,
00031          kRightStickButton = 2,
00032          kStart = 3,
00033          kLeftUp = 4,
00034          kLeftRight = 5,
00035          kLeftDown = 6,
00036          kLeftLeft = 7,
00037          kL2 = 8,
00038          kR2 = 9,
00039          kL1 = 10,
00040          kR1 = 11,
00041          kRightUp = 12,
00042          kRightRight = 13,
00043          kRightDown = 14,
00044          kRightLeft = 15;
00045 }
00046 
<a name="l00047"></a><a class="code" href="classCPad.html">00047</a> <font class="keyword">class </font><a class="code" href="classCPad.html">CPad</a>
00048 {
00049    <font class="keyword">public</font>:
00050       <a class="code" href="classCPad.html#a0">CPad</a>( <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> port );
00051 
00052       <font class="keywordtype">bool</font> <a class="code" href="classCPad.html#a1">Open</a>( <font class="keywordtype">void</font> );
00053       <font class="keywordtype">void</font> <a class="code" href="classCPad.html#a2">Read</a>( <font class="keywordtype">void</font> );
00054 
00055       <font class="keywordtype">bool</font> <a class="code" href="classCPad.html#a3">IsDown</a>( <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> button );
00056       <font class="keywordtype">bool</font> <a class="code" href="classCPad.html#a4">IsUp</a>( <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> button );
00057       <font class="keywordtype">bool</font> <a class="code" href="classCPad.html#a5">WasPushed</a>( <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> button );
00058       <font class="keywordtype">bool</font> <a class="code" href="classCPad.html#a6">WasReleased</a>( <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> button );
00059 
<a name="l00060"></a><a class="code" href="classCPad.html#a7">00060</a>       <font class="keywordtype">float</font> <a class="code" href="classCPad.html#a7">RightStickX</a>( <font class="keywordtype">void</font> )<font class="keyword"> </font>{ <font class="keywordflow">return</font> CurStatus.rightStick.xPos; }
<a name="l00061"></a><a class="code" href="classCPad.html#a8">00061</a>       <font class="keywordtype">float</font> <a class="code" href="classCPad.html#a8">RightStickY</a>( <font class="keywordtype">void</font> )<font class="keyword"> </font>{ <font class="keywordflow">return</font> CurStatus.rightStick.yPos; }
00062 
<a name="l00063"></a><a class="code" href="classCPad.html#a9">00063</a>       <font class="keywordtype">float</font> <a class="code" href="classCPad.html#a9">LeftStickX</a>( <font class="keywordtype">void</font> )<font class="keyword"> </font>{ <font class="keywordflow">return</font> CurStatus.leftStick.xPos; }
<a name="l00064"></a><a class="code" href="classCPad.html#a10">00064</a>       <font class="keywordtype">float</font> <a class="code" href="classCPad.html#a10">LeftStickY</a>( <font class="keywordtype">void</font> )<font class="keyword"> </font>{ <font class="keywordflow">return</font> CurStatus.leftStick.yPos; }
00065 
00066    <font class="keyword">private</font>:
00067       <font class="keyword">typedef</font> <font class="keyword">struct </font>{
00068             tU16 select : 1;
00069             tU16 i : 1;
00070             tU16 j : 1;
00071             tU16 start : 1;
00072 
00073             tU16 leftUp : 1;
00074             tU16 leftRight : 1;
00075             tU16 leftDown : 1;
00076             tU16 leftLeft : 1;
00077 
00078             tU16 l2 : 1;
00079             tU16 r2 : 1;
00080             tU16 l1 : 1;
00081             tU16 r1 : 1;
00082 
00083             tU16 rightUp : 1;
00084             tU16 rightRight : 1;
00085             tU16 rightDown : 1;
00086             tU16 rightLeft : 1;
00087       } tButtonsPressed;
00088 
00089       <font class="keyword">typedef</font> <font class="keyword">struct </font>{
00090             tU8 xVal, yVal;
00091             tU8 xCenter, yCenter;
00092             <font class="keywordtype">float</font> xPos, yPos;
00093             <font class="keywordtype">bool</font> isCentered;
00094       } tStickData;
00095                 
00096       <font class="keyword">typedef</font> <font class="keyword">struct </font>{
00097             tU8 success;
00098             tU8 statLen;
00099             tU16 buttons; <font class="comment">/* 16 buttons */</font>
00100             tU8 r3h;
00101             tU8 r3v;
00102             tU8 l3h;
00103             tU8 l3v;
00104             tU8 kanAtsu[12]; <font class="comment">// deal with this crap later</font>
00105             tU8 whoKnows[12]; <font class="comment">// make the structure 32 bytes long</font>
00106             tStickData rightStick, leftStick;
00107       } tPadStatus;
00108 
00109       <font class="keywordtype">bool</font> UpdateStick( tStickData* stickCur, tStickData* stickLast );
00110 
00111       tU128             DmaBuffer[scePadDmaBufferMax] __attribute__ ((<a class="code" href="renderer_8h.html#a0">aligned</a>(64)));
00112       tPadStatus        CurStatus __attribute__ ((<a class="code" href="renderer_8h.html#a0">aligned</a>(16)));
00113       tPadStatus        LastStatus __attribute__ ((<a class="code" href="renderer_8h.html#a0">aligned</a>(16)));
00114       <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font>                      uiPort;
00115       <font class="keywordtype">bool</font>              bPadModeSet;
00116 
00117 
00118 };
00119 
<a name="l00120"></a><a class="code" href="pads_8h.html#a0">00120</a> <font class="keyword">extern</font> <a class="code" href="classCPad.html">CPad</a> Pad0;
<a name="l00121"></a><a class="code" href="pads_8h.html#a1">00121</a> <font class="keyword">extern</font> <a class="code" href="classCPad.html">CPad</a> Pad1;
00122 
00123 <font class="preprocessor">#endif // pads_h</font>
</pre></div><hr><address><small>ps2gl version cvs</small></address>
