<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>drawcontext.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.11 -->
<center>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>drawcontext.h</h1><a href="drawcontext_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/*        Copyright (C) 2000,2001,2002  Sony Computer Entertainment America</font>
00002           
00003           This file is subject to the terms and conditions of the GNU Lesser
00004           General Public License Version 2.1. See the file "COPYING" in the
00005           main directory of this archive for more details.                             */
00006 
00007 <font class="preprocessor">#ifndef ps2gl_drawcontext_h</font>
00008 <font class="preprocessor">#define ps2gl_drawcontext_h</font>
00009 
00010 <font class="comment">/********************************************</font>
00011  * includes
00012  */
00013 
00014 <font class="preprocessor">#include "ps2s/cpu_matrix.h"</font>
00015 
00016 <font class="preprocessor">#include "<a class="code" href="glcontext_8h.html">ps2gl/glcontext.h</a>"</font>
00017 <font class="preprocessor">#include "<a class="code" href="immgmanager_8h.html">ps2gl/immgmanager.h</a>"</font>
00018 
00019 <font class="keyword">namespace </font>GS {
00020    <font class="keyword">class </font>CDrawEnv;
00021    <font class="keyword">class </font>CMemArea;
00022 }
00023 
00024 <font class="comment">/********************************************</font>
00025  * CDrawContext
00026  */
00027 
<a name="l00028"></a><a class="code" href="classCDrawContext.html">00028</a> <font class="keyword">class </font><a class="code" href="classCDrawContext.html">CDrawContext</a> {
00029    <font class="keyword">protected</font>:
<a name="l00030"></a><a class="code" href="classCDrawContext.html#n0">00030</a>       <a class="code" href="classCGLContext.html">CGLContext</a>        &amp;GLContext;
00031 
00032    <font class="keyword">public</font>:
<a name="l00033"></a><a class="code" href="classCDrawContext.html#a0">00033</a>       <font class="keyword">inline</font> <a class="code" href="classCDrawContext.html#a0">CDrawContext</a>( <a class="code" href="classCGLContext.html">CGLContext</a> &amp;context ) : GLContext(context) {}
00034 
00035       <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a1">SetDoSmoothShading</a>( <font class="keywordtype">bool</font> yesNo ) = 0;
00036       <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a2">SetDoClipping</a>( <font class="keywordtype">bool</font> clip ) = 0;
00037       <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a3">SetDoCullFace</a>( <font class="keywordtype">bool</font> cull ) = 0;
00038       <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a4">SetCullFaceDir</a>( <font class="keywordtype">int</font> direction ) = 0;
00039       <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a5">SetRescaleNormals</a>( <font class="keywordtype">bool</font> rescale ) = 0;
00040       <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a6">SetBlendEnabled</a>( <font class="keywordtype">bool</font> enabled ) = 0;
00041       <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a7">SetDepthWriteEnabled</a>( <font class="keywordtype">bool</font> enabled ) = 0;
00042       <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a8">SetFrameBufferDrawMask</a>(<font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> mask)=0;
00043       <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a9">SetAlphaTestEnabled</a>( <font class="keywordtype">bool</font> enabled ) = 0;
00044       <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a10">SetInterlacingOffset</a>( <font class="keywordtype">float</font> yPixels ) = 0;
00045       <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a11">SetPolygonMode</a>( <a class="code" href="gl_8h.html#a687">GLenum</a> mode ) = 0;
00046 
00047       <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a12">SetBlendMode</a>( <a class="code" href="gl_8h.html#a687">GLenum</a> source, <a class="code" href="gl_8h.html#a687">GLenum</a> dest ) = 0;
00048       <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a13">SetAlphaFunc</a>( <a class="code" href="gl_8h.html#a687">GLenum</a> func, <a class="code" href="gl_8h.html#a699">GLclampf</a> ref ) = 0;
00049 
00050       <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a14">SetDrawBuffers</a>( <font class="keywordtype">bool</font> interlaced,
00051                                    GS::CMemArea *frame0Mem, GS::CMemArea *frame1Mem,
00052                                    GS::CMemArea *depthMem ) = 0;
00053 };
00054 
00055 <font class="comment">/********************************************</font>
00056  * CImmDrawContext
00057  */
00058 
00059 <font class="keyword">class</font> <a class="code" href="classCClearEnv.html">CClearEnv</a>;
00060 
<a name="l00061"></a><a class="code" href="classCImmDrawContext.html">00061</a> <font class="keyword">class</font> <a class="code" href="classCImmDrawContext.html">CImmDrawContext</a> : <font class="keyword">public</font> <a class="code" href="classCDrawContext.html">CDrawContext</a> {
00062    <font class="keyword">public</font>:
<a name="l00063"></a><a class="code" href="classCImmDrawContext.html#m0">00063</a>       GS::CDrawEnv      *DrawEnv;
00064 
<a name="l00065"></a><a class="code" href="classCImmDrawContext.html#m3">00065</a>       GS::CMemArea      *Frame0Mem, *Frame1Mem, *ZBufMem;
<a name="l00066"></a><a class="code" href="classCImmDrawContext.html#m5">00066</a>       GS::CMemArea      *CurFrameMem, *LastFrameMem;
00067 
<a name="l00068"></a><a class="code" href="classCImmDrawContext.html#m6">00068</a>       <a class="code" href="classCClearEnv.html">CClearEnv</a>         *ClearEnv;
00069 
<a name="l00070"></a><a class="code" href="classCImmDrawContext.html#m7">00070</a>       <font class="keywordtype">bool</font>              FrameIsDblBuffered;
00071 
00072       <font class="comment">// gl state</font>
<a name="l00073"></a><a class="code" href="classCImmDrawContext.html#m8">00073</a>       <font class="keywordtype">bool</font>              DoSmoothShading;
<a name="l00074"></a><a class="code" href="classCImmDrawContext.html#m9">00074</a>       <font class="keywordtype">bool</font>              DoClipping;
<a name="l00075"></a><a class="code" href="classCImmDrawContext.html#m10">00075</a>       <font class="keywordtype">bool</font>              DoCullFace;
<a name="l00076"></a><a class="code" href="classCImmDrawContext.html#m11">00076</a>       <font class="keywordtype">int</font>               CullFaceDir; <font class="comment">// 1 or -1</font>
<a name="l00077"></a><a class="code" href="classCImmDrawContext.html#m12">00077</a>       <font class="keywordtype">bool</font>              RescaleNormals;
<a name="l00078"></a><a class="code" href="classCImmDrawContext.html#m13">00078</a>       <font class="keywordtype">bool</font>              BlendIsEnabled;
<a name="l00079"></a><a class="code" href="classCImmDrawContext.html#m14">00079</a>       <font class="keywordtype">bool</font>              AlphaTestIsEnabled;
<a name="l00080"></a><a class="code" href="classCImmDrawContext.html#m15">00080</a>       <font class="keywordtype">bool</font>              DrawInterlaced;
<a name="l00081"></a><a class="code" href="classCImmDrawContext.html#m16">00081</a>       <a class="code" href="gl_8h.html#a687">GLenum</a>            PolyMode;
<a name="l00082"></a><a class="code" href="classCImmDrawContext.html#m17">00082</a>       <font class="keywordtype">int</font>               DepthBits;
00083 
00084       <font class="comment">// current vertex xform</font>
<a name="l00085"></a><a class="code" href="classCImmDrawContext.html#m18">00085</a>       cpu_mat_44        VertexXform;
<a name="l00086"></a><a class="code" href="classCImmDrawContext.html#m19">00086</a>       cpu_mat_44        GSScale;
<a name="l00087"></a><a class="code" href="classCImmDrawContext.html#m20">00087</a>       <font class="keywordtype">bool</font>              IsVertexXformValid;
00088 
<a name="l00089"></a><a class="code" href="classCImmDrawContext.html#m21">00089</a>       <font class="keywordtype">int</font>               Width, Height;
00090 
00091    <font class="keyword">public</font>:
00092       CImmDrawContext( <a class="code" href="classCGLContext.html">CGLContext</a> &amp;context );
00093       <font class="keyword">virtual</font> ~CImmDrawContext();
00094 
<a name="l00095"></a><a class="code" href="classCImmDrawContext.html#a2">00095</a>       GS::CDrawEnv&amp; GetDrawEnv()<font class="keyword"> </font>{ <font class="keywordflow">return</font> *DrawEnv; }
00096       <font class="keywordtype">void</font> SwapBuffers( <font class="keywordtype">bool</font> fieldIsEven );
00097 
<a name="l00098"></a><a class="code" href="classCImmDrawContext.html#a4">00098</a>       <font class="keyword">inline</font> <a class="code" href="classCClearEnv.html">CClearEnv</a>&amp; GetClearEnv()<font class="keyword"> </font>{ <font class="keywordflow">return</font> *ClearEnv; }
00099 
00100       <font class="keyword">const</font> cpu_mat_44&amp; GetVertexXform();
<a name="l00101"></a><a class="code" href="classCImmDrawContext.html#a6">00101</a>       <font class="keyword">inline</font> <font class="keywordtype">void</font> SetVertexXformValid( <font class="keywordtype">bool</font> valid )<font class="keyword"> </font>{
00102          IsVertexXformValid = valid;
00103          <font class="keywordflow">if</font> ( ! valid ) GLContext.<a class="code" href="classCGLContext.html#a39">XformChanged</a>();
00104       }
00105 
<a name="l00106"></a><a class="code" href="classCImmDrawContext.html#a7">00106</a>       <font class="keywordtype">int</font> GetFBWidth()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> Width; }
<a name="l00107"></a><a class="code" href="classCImmDrawContext.html#a8">00107</a>       <font class="keywordtype">int</font> GetFBHeight()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> Height; }
00108 
<a name="l00109"></a><a class="code" href="classCImmDrawContext.html#a9">00109</a>       <font class="keywordtype">int</font> GetDepthBits()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> DepthBits; }
<a name="l00110"></a><a class="code" href="classCImmDrawContext.html#a10">00110</a>       <font class="keywordtype">void</font> SetDepthBits( <font class="keywordtype">int</font> depth )<font class="keyword"> </font>{ DepthBits = depth; }
00111 
00112       <font class="comment">// virtuals</font>
00113 
00114       <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a12">SetBlendMode</a>( <a class="code" href="gl_8h.html#a687">GLenum</a> source, <a class="code" href="gl_8h.html#a687">GLenum</a> dest );
00115       <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a13">SetAlphaFunc</a>( <a class="code" href="gl_8h.html#a687">GLenum</a> func, <a class="code" href="gl_8h.html#a699">GLclampf</a> ref );
00116       
<a name="l00117"></a><a class="code" href="classCImmDrawContext.html#a13">00117</a>       <font class="keyword">inline</font> <font class="keywordtype">bool</font> GetDoSmoothShading()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> DoSmoothShading; }
00118       <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a1">SetDoSmoothShading</a>( <font class="keywordtype">bool</font> yesNo );
00119 
<a name="l00120"></a><a class="code" href="classCImmDrawContext.html#a15">00120</a>       <font class="keyword">inline</font> <font class="keywordtype">bool</font> GetDoClipping()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> DoClipping; }
00121       <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a2">SetDoClipping</a>( <font class="keywordtype">bool</font> clip );
00122 
<a name="l00123"></a><a class="code" href="classCImmDrawContext.html#a17">00123</a>       <font class="keyword">inline</font> <font class="keywordtype">bool</font> GetDoCullFace()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> DoCullFace; }
00124       <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a3">SetDoCullFace</a>( <font class="keywordtype">bool</font> cull );
00125 
<a name="l00126"></a><a class="code" href="classCImmDrawContext.html#a19">00126</a>       <font class="keyword">inline</font> <font class="keywordtype">int</font> GetCullFaceDir()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> CullFaceDir; }
00127       <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a4">SetCullFaceDir</a>( <font class="keywordtype">int</font> direction );
00128 
<a name="l00129"></a><a class="code" href="classCImmDrawContext.html#a21">00129</a>       <font class="keyword">inline</font> <font class="keywordtype">bool</font> GetBlendEnabled()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> BlendIsEnabled; }
00130       <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a6">SetBlendEnabled</a>( <font class="keywordtype">bool</font> enabled );
00131 
<a name="l00132"></a><a class="code" href="classCImmDrawContext.html#a23">00132</a>       <font class="keyword">inline</font> <font class="keywordtype">bool</font> GetAlphaTestEnabled()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> AlphaTestIsEnabled; }
00133       <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a9">SetAlphaTestEnabled</a>( <font class="keywordtype">bool</font> enabled );
00134 
00135       <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a10">SetInterlacingOffset</a>( <font class="keywordtype">float</font> yPixels );
00136       
00137       <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a7">SetDepthWriteEnabled</a>( <font class="keywordtype">bool</font> enabled );
00138       <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a8">SetFrameBufferDrawMask</a>(<font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> mask);
00139 
<a name="l00140"></a><a class="code" href="classCImmDrawContext.html#a28">00140</a>       <font class="keyword">inline</font> <a class="code" href="gl_8h.html#a687">GLenum</a> GetPolygonMode()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> PolyMode; }
00141       <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a11">SetPolygonMode</a>( <a class="code" href="gl_8h.html#a687">GLenum</a> mode );
00142 
<a name="l00143"></a><a class="code" href="classCImmDrawContext.html#a30">00143</a>       <font class="keyword">inline</font> <font class="keywordtype">bool</font> GetRescaleNormals()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> RescaleNormals; }
00144       <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a5">SetRescaleNormals</a>( <font class="keywordtype">bool</font> rescale );
00145 
00146       <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a14">SetDrawBuffers</a>( <font class="keywordtype">bool</font> interlaced,
00147                            GS::CMemArea *frame0Mem, GS::CMemArea *frame1Mem,
00148                            GS::CMemArea *depthMem );
00149 };
00150 
00151 <font class="comment">/********************************************</font>
00152  * CDListDrawContext
00153  */
00154 
<a name="l00155"></a><a class="code" href="classCDListDrawContext.html">00155</a> <font class="keyword">class </font><a class="code" href="classCDListDrawContext.html">CDListDrawContext</a> : <font class="keyword">public</font> <a class="code" href="classCDrawContext.html">CDrawContext</a> {
00156    <font class="keyword">public</font>:
<a name="l00157"></a><a class="code" href="classCDListDrawContext.html#a0">00157</a>       <a class="code" href="classCDListDrawContext.html#a0">CDListDrawContext</a>( <a class="code" href="classCGLContext.html">CGLContext</a> &amp;context ) : <a class="code" href="classCDrawContext.html">CDrawContext</a>(context) {}
00158 
00159       <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a12">SetBlendMode</a>( <a class="code" href="gl_8h.html#a687">GLenum</a> source, <a class="code" href="gl_8h.html#a687">GLenum</a> dest );
00160       <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a13">SetAlphaFunc</a>( <a class="code" href="gl_8h.html#a687">GLenum</a> func, <a class="code" href="gl_8h.html#a699">GLclampf</a> ref );
00161 
00162       <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a1">SetDoSmoothShading</a>( <font class="keywordtype">bool</font> yesNo );
00163       <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a2">SetDoClipping</a>( <font class="keywordtype">bool</font> clip );
00164       <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a3">SetDoCullFace</a>( <font class="keywordtype">bool</font> cull );
00165       <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a4">SetCullFaceDir</a>( <font class="keywordtype">int</font> direction );
00166       <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a5">SetRescaleNormals</a>( <font class="keywordtype">bool</font> rescale );
00167       <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a6">SetBlendEnabled</a>( <font class="keywordtype">bool</font> enabled );
00168       <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a9">SetAlphaTestEnabled</a>( <font class="keywordtype">bool</font> enabled );
00169       <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a10">SetInterlacingOffset</a>( <font class="keywordtype">float</font> yPixels );
00170       <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a7">SetDepthWriteEnabled</a>( <font class="keywordtype">bool</font> enabled );
00171       <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a8">SetFrameBufferDrawMask</a>(<font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> mask);
<a name="l00172"></a><a class="code" href="classCDListDrawContext.html#a13">00172</a>       <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a11">SetPolygonMode</a>( <a class="code" href="gl_8h.html#a687">GLenum</a> mode )<font class="keyword"> </font>{ assert(<font class="keyword">false</font>); }
00173 
00174 
00175       <font class="keywordtype">void</font> <a class="code" href="classCDrawContext.html#a14">SetDrawBuffers</a>( <font class="keywordtype">bool</font> interlaced,
00176                            GS::CMemArea *frame0Mem, GS::CMemArea *frame1Mem,
00177                            GS::CMemArea *depthMem );
00178 };
00179 
00180 <font class="preprocessor">#endif // ps2gl_drawcontext_h</font>
</pre></div><hr><address><small>ps2gl version cvs</small></address>
